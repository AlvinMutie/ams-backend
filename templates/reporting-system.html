<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Reporting System - JKUAT</title>
  <link rel="stylesheet" href="../dashboard-styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="top-bar-left">
      <img src="https://www.jkuat.ac.ke/wp-content/uploads/2020/01/jkuat-logo.png" alt="JKUAT" height="40">
    </div>
    <div class="top-bar-center">
      Jomo Kenyatta University of Agriculture and Technology
    </div>
    <div class="top-bar-right">
      <div class="notification-bell">
        <i class="fas fa-bell"></i>
        <span class="notification-badge">1</span>
      </div>
      <div class="user-menu">
        <span>Hi, User</span>
        <i class="fas fa-chevron-down"></i>
      </div>
    </div>
  </div>

  <!-- Left Sidebar -->
  <div class="sidebar">
    <div class="sidebar-logo">
      <img src="https://www.jkuat.ac.ke/wp-content/uploads/2020/01/jkuat-logo.png" alt="JKUAT Logo">
    </div>
    
    <div class="sidebar-menu">
      <a href="#" class="menu-item active">
        <i class="fas fa-chart-line"></i>
        <span>Reporting</span>
      </a>
      <a href="#" class="menu-item">
        <i class="fas fa-download"></i>
        <span>Export</span>
      </a>
      <a href="#" class="menu-item">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </a>
      <a href="../login.html" class="menu-item">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </a>
    </div>
    
    <div class="sidebar-footer">
      Â©2025 - Alvin and Dominic
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <h1 class="page-title">Advanced Reporting System</h1>
    
    <!-- Welcome Section -->
    <div class="welcome-section">
      <div class="welcome-text">
        <h2>Comprehensive Reporting & Analytics</h2>
        <p>Generate detailed performance reports, export data in multiple formats, and create custom analytics dashboards for comprehensive insights.</p>
      </div>
      <div class="welcome-illustration">
        <i class="fas fa-chart-bar"></i>
      </div>
    </div>

    <!-- Report Generation Options -->
    <div class="report-options">
      <div class="option-card">
        <div class="option-icon">
          <i class="fas fa-user-graduate"></i>
        </div>
        <div class="option-content">
          <h3>Student Reports</h3>
          <p>Generate individual student performance reports, progress tracking, and skill development analysis.</p>
          <button class="btn-primary" onclick="generateStudentReport()">
            <i class="fas fa-file-alt"></i>
            Generate Report
          </button>
        </div>
      </div>
      
      <div class="option-card">
        <div class="option-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="option-content">
          <h3>Supervisor Reports</h3>
          <p>Create comprehensive supervisor reports with student comparisons, team performance, and assessment summaries.</p>
          <button class="btn-primary" onclick="generateSupervisorReport()">
            <i class="fas fa-file-alt"></i>
            Generate Report
          </button>
        </div>
      </div>
      
      <div class="option-card">
        <div class="option-icon">
          <i class="fas fa-chart-pie"></i>
        </div>
        <div class="option-content">
          <h3>Analytics Dashboard</h3>
          <p>Build custom analytics dashboards with interactive charts, trend analysis, and performance metrics.</p>
          <button class="btn-primary" onclick="createAnalyticsDashboard()">
            <i class="fas fa-chart-line"></i>
            Create Dashboard
          </button>
        </div>
      </div>
      
      <div class="option-card">
        <div class="option-icon">
          <i class="fas fa-download"></i>
        </div>
        <div class="option-content">
          <h3>Data Export</h3>
          <p>Export data in multiple formats including PDF, Excel, CSV, and JSON for external analysis.</p>
          <button class="btn-primary" onclick="exportData()">
            <i class="fas fa-download"></i>
            Export Data
          </button>
        </div>
      </div>
    </div>

    <!-- Report Builder -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Custom Report Builder</h3>
        <div class="card-actions">
          <button class="btn-secondary" onclick="saveReportTemplate()">
            <i class="fas fa-save"></i>
            Save Template
          </button>
          <button class="btn-primary" onclick="generateCustomReport()">
            <i class="fas fa-magic"></i>
            Generate Report
          </button>
        </div>
      </div>
      
      <div class="report-builder">
        <div class="builder-section">
          <h4>Report Configuration</h4>
          <div class="config-grid">
            <div class="config-item">
              <label for="reportType">Report Type</label>
              <select id="reportType" onchange="updateReportOptions()">
                <option value="performance">Performance Report</option>
                <option value="progress">Progress Report</option>
                <option value="assessment">Assessment Report</option>
                <option value="comprehensive">Comprehensive Report</option>
              </select>
            </div>
            
            <div class="config-item">
              <label for="reportPeriod">Time Period</label>
              <select id="reportPeriod">
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
                <option value="quarterly">Quarterly</option>
                <option value="custom">Custom Range</option>
              </select>
            </div>
            
            <div class="config-item">
              <label for="reportFormat">Output Format</label>
              <select id="reportFormat">
                <option value="pdf">PDF</option>
                <option value="excel">Excel</option>
                <option value="html">HTML</option>
                <option value="json">JSON</option>
              </select>
            </div>
            
            <div class="config-item">
              <label for="includeCharts">Include Charts</label>
              <input type="checkbox" id="includeCharts" checked>
            </div>
          </div>
        </div>
        
        <div class="builder-section">
          <h4>Content Selection</h4>
          <div class="content-grid">
            <div class="content-item">
              <input type="checkbox" id="executiveSummary" checked>
              <label for="executiveSummary">Executive Summary</label>
            </div>
            
            <div class="content-item">
              <input type="checkbox" id="performanceMetrics" checked>
              <label for="performanceMetrics">Performance Metrics</label>
            </div>
            
            <div class="content-item">
              <input type="checkbox" id="trendAnalysis" checked>
              <label for="trendAnalysis">Trend Analysis</label>
            </div>
            
            <div class="content-item">
              <input type="checkbox" id="skillAssessment" checked>
              <label for="skillAssessment">Skill Assessment</label>
            </div>
            
            <div class="content-item">
              <input type="checkbox" id="recommendations" checked>
              <label for="recommendations">Recommendations</label>
            </div>
            
            <div class="content-item">
              <input type="checkbox" id="appendix" checked>
              <label for="appendix">Appendix & Data Tables</label>
            </div>
          </div>
        </div>
        
        <div class="builder-section">
          <h4>Advanced Options</h4>
          <div class="advanced-grid">
            <div class="advanced-item">
              <label for="comparisonBenchmark">Comparison Benchmark</label>
              <select id="comparisonBenchmark">
                <option value="none">None</option>
                <option value="class_average">Class Average</option>
                <option value="university_standards">University Standards</option>
                <option value="industry_standards">Industry Standards</option>
              </select>
            </div>
            
            <div class="advanced-item">
              <label for="predictionModels">Include Predictions</label>
              <input type="checkbox" id="predictionModels">
            </div>
            
            <div class="advanced-item">
              <label for="riskAssessment">Risk Assessment</label>
              <input type="checkbox" id="riskAssessment">
            </div>
            
            <div class="advanced-item">
              <label for="customStyling">Custom Styling</label>
              <input type="checkbox" id="customStyling">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Report Preview -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Report Preview</h3>
        <div class="card-actions">
          <button class="btn-secondary" onclick="refreshPreview()">
            <i class="fas fa-sync-alt"></i>
            Refresh
          </button>
          <button class="btn-primary" onclick="downloadPreview()">
            <i class="fas fa-download"></i>
            Download Preview
          </button>
        </div>
      </div>
      
      <div class="report-preview" id="reportPreview">
        <div class="preview-header">
          <div class="preview-logo">
            <img src="https://www.jkuat.ac.ke/wp-content/uploads/2020/01/jkuat-logo.png" alt="JKUAT Logo" height="60">
          </div>
          <div class="preview-title">
            <h1>Student Performance Report</h1>
            <p>Generated on: <span id="previewDate"></span></p>
          </div>
        </div>
        
        <div class="preview-content">
          <div class="preview-section">
            <h2>Executive Summary</h2>
            <p>This report provides a comprehensive analysis of student performance during the industrial attachment period. The data covers technical skills, work ethics, learning ability, and overall progress.</p>
            
            <div class="summary-stats">
              <div class="summary-stat">
                <div class="stat-number">85.7%</div>
                <div class="stat-label">Average Performance</div>
              </div>
              <div class="summary-stat">
                <div class="stat-number">+12.3%</div>
                <div class="stat-label">Overall Improvement</div>
              </div>
              <div class="summary-stat">
                <div class="stat-number">3</div>
                <div class="stat-label">Students Analyzed</div>
              </div>
            </div>
          </div>
          
          <div class="preview-section">
            <h2>Performance Metrics</h2>
            <div class="metrics-grid">
              <div class="metric-item">
                <h4>Technical Skills</h4>
                <div class="metric-score">88%</div>
                <div class="metric-trend positive">+8.2%</div>
              </div>
              <div class="metric-item">
                <h4>Work Ethics</h4>
                <div class="metric-score">92%</div>
                <div class="metric-trend positive">+5.1%</div>
              </div>
              <div class="metric-item">
                <h4>Learning Ability</h4>
                <div class="metric-score">85%</div>
                <div class="metric-trend positive">+7.3%</div>
              </div>
              <div class="metric-item">
                <h4>Communication</h4>
                <div class="metric-score">78%</div>
                <div class="metric-trend negative">-2.1%</div>
              </div>
            </div>
          </div>
          
          <div class="preview-section">
            <h2>Trend Analysis</h2>
            <div class="chart-container">
              <canvas id="previewChart" width="400" height="200"></canvas>
            </div>
          </div>
          
          <div class="preview-section">
            <h2>Recommendations</h2>
            <ul class="recommendations-list">
              <li><strong>Communication Skills:</strong> Focus on improving written and verbal communication through workshops and practice sessions.</li>
              <li><strong>Technical Excellence:</strong> Continue building on strong technical foundation with advanced projects and challenges.</li>
              <li><strong>Leadership Development:</strong> Provide opportunities for students to lead small projects and mentor peers.</li>
              <li><strong>Industry Exposure:</strong> Increase exposure to real-world industry practices and standards.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Report Templates -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Saved Report Templates</h3>
        <div class="card-actions">
          <button class="btn-secondary" onclick="createNewTemplate()">
            <i class="fas fa-plus"></i>
            New Template
          </button>
        </div>
      </div>
      
      <div class="templates-grid">
        <div class="template-item">
          <div class="template-header">
            <h4>Weekly Progress Report</h4>
            <span class="template-type">Student</span>
          </div>
          <p>Standard weekly progress tracking with performance metrics and trend analysis.</p>
          <div class="template-actions">
            <button class="btn-secondary" onclick="loadTemplate('weekly')">
              <i class="fas fa-edit"></i>
              Edit
            </button>
            <button class="btn-primary" onclick="useTemplate('weekly')">
              <i class="fas fa-play"></i>
              Use
            </button>
          </div>
        </div>
        
        <div class="template-item">
          <div class="template-header">
            <h4>Comprehensive Assessment</h4>
            <span class="template-type">Supervisor</span>
          </div>
          <p>Detailed assessment report with student comparisons and recommendations.</p>
          <div class="template-actions">
            <button class="btn-secondary" onclick="loadTemplate('assessment')">
              <i class="fas fa-edit"></i>
              Edit
            </button>
            <button class="btn-primary" onclick="useTemplate('assessment')">
              <i class="fas fa-play"></i>
              Use
            </button>
          </div>
        </div>
        
        <div class="template-item">
          <div class="template-header">
            <h4>Executive Summary</h4>
            <span class="template-type">Management</span>
          </div>
          <p>High-level summary for management with key metrics and insights.</p>
          <div class="template-actions">
            <button class="btn-secondary" onclick="loadTemplate('executive')">
              <i class="fas fa-edit"></i>
              Edit
            </button>
            <button class="btn-primary" onclick="useTemplate('executive')">
              <i class="fas fa-play"></i>
              Use
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    .report-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .option-card {
      background: white;
      border: 1px solid #e9ecef;
      border-radius: 12px;
      padding: 25px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    
    .option-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .option-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #1e4d2b, #28a745);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin: 0 auto 20px;
    }
    
    .option-content h3 {
      color: #1e4d2b;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }
    
    .option-content p {
      color: #6c757d;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .btn-primary {
      background: #1e4d2b;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn-primary:hover {
      background: #2d5a3d;
      transform: translateY(-2px);
    }
    
    .report-builder {
      padding: 20px 0;
    }
    
    .builder-section {
      margin-bottom: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
    }
    
    .builder-section h4 {
      color: #1e4d2b;
      margin-bottom: 20px;
      font-size: 1.1rem;
      border-bottom: 2px solid #e9ecef;
      padding-bottom: 10px;
    }
    
    .config-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .config-item {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .config-item label {
      font-weight: 600;
      color: #495057;
      font-size: 0.9rem;
    }
    
    .config-item select,
    .config-item input[type="checkbox"] {
      padding: 10px;
      border: 2px solid #e9ecef;
      border-radius: 6px;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }
    
    .config-item select:focus {
      outline: none;
      border-color: #1e4d2b;
      box-shadow: 0 0 0 3px rgba(30, 77, 43, 0.1);
    }
    
    .content-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .content-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: white;
      border-radius: 6px;
      border: 1px solid #e9ecef;
    }
    
    .content-item input[type="checkbox"] {
      margin: 0;
    }
    
    .content-item label {
      margin: 0;
      font-weight: 500;
      color: #495057;
      cursor: pointer;
    }
    
    .advanced-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .advanced-item {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .advanced-item label {
      font-weight: 600;
      color: #495057;
      font-size: 0.9rem;
    }
    
    .advanced-item select {
      padding: 10px;
      border: 2px solid #e9ecef;
      border-radius: 6px;
      font-size: 0.9rem;
    }
    
    .report-preview {
      background: white;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .preview-header {
      display: flex;
      align-items: center;
      gap: 30px;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 2px solid #e9ecef;
    }
    
    .preview-title h1 {
      color: #1e4d2b;
      margin: 0 0 10px 0;
      font-size: 2rem;
    }
    
    .preview-title p {
      color: #6c757d;
      margin: 0;
      font-size: 1rem;
    }
    
    .preview-section {
      margin-bottom: 30px;
    }
    
    .preview-section h2 {
      color: #1e4d2b;
      margin-bottom: 15px;
      font-size: 1.5rem;
      border-bottom: 1px solid #e9ecef;
      padding-bottom: 8px;
    }
    
    .preview-section p {
      color: #495057;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .summary-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .summary-stat {
      text-align: center;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
    }
    
    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      color: #1e4d2b;
      margin-bottom: 5px;
    }
    
    .stat-label {
      color: #6c757d;
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    
    .metric-item {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
      text-align: center;
    }
    
    .metric-item h4 {
      color: #495057;
      margin-bottom: 15px;
      font-size: 1rem;
    }
    
    .metric-score {
      font-size: 2rem;
      font-weight: 700;
      color: #1e4d2b;
      margin-bottom: 8px;
    }
    
    .metric-trend {
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    .metric-trend.positive {
      color: #28a745;
    }
    
    .metric-trend.negative {
      color: #dc3545;
    }
    
    .chart-container {
      height: 300px;
      margin: 20px 0;
    }
    
    .recommendations-list {
      list-style: none;
      padding: 0;
    }
    
    .recommendations-list li {
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 10px;
      border-left: 4px solid #1e4d2b;
    }
    
    .recommendations-list li:last-child {
      margin-bottom: 0;
    }
    
    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .template-item {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
      transition: all 0.3s ease;
    }
    
    .template-item:hover {
      background: white;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .template-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .template-header h4 {
      color: #1e4d2b;
      margin: 0;
      font-size: 1.1rem;
    }
    
    .template-type {
      background: #1e4d2b;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .template-item p {
      color: #6c757d;
      margin-bottom: 20px;
      line-height: 1.5;
    }
    
    .template-actions {
      display: flex;
      gap: 10px;
    }
    
    .btn-secondary {
      background: #6c757d;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    
    .btn-secondary:hover {
      background: #5a6268;
      transform: translateY(-1px);
    }
    
    @media (max-width: 768px) {
      .report-options {
        grid-template-columns: 1fr;
      }
      
      .config-grid,
      .content-grid,
      .advanced-grid {
        grid-template-columns: 1fr;
      }
      
      .preview-header {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }
      
      .summary-stats {
        grid-template-columns: 1fr;
      }
      
      .metrics-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <script>
    // Set preview date
    document.getElementById('previewDate').textContent = new Date().toLocaleDateString();
    
    // Initialize preview chart
    document.addEventListener('DOMContentLoaded', function() {
      initializePreviewChart();
    });
    
    function initializePreviewChart() {
      const ctx = document.getElementById('previewChart').getContext('2d');
      
      const data = {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
        datasets: [{
          label: 'Performance Score',
          data: [65, 68, 72, 80, 83, 88],
          borderColor: '#1e4d2b',
          backgroundColor: 'rgba(30, 77, 43, 0.1)',
          borderWidth: 3,
          fill: true,
          tension: 0.4
        }]
      };
      
      const config = {
        type: 'line',
        data: data,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              ticks: {
                callback: function(value) {
                  return value + '%';
                }
              }
            }
          }
        }
      };
      
      new Chart(ctx, config);
    }
    
    // Report generation functions
    function generateStudentReport() {
      alert('Generating student performance report...\nThis will be available for download shortly.');
    }
    
    function generateSupervisorReport() {
      alert('Generating supervisor report...\nThis will be available for download shortly.');
    }
    
    function createAnalyticsDashboard() {
      alert('Opening analytics dashboard builder...\nCreate custom dashboards with interactive charts.');
    }
    
    function exportData() {
      alert('Opening data export options...\nChoose format and data range for export.');
    }
    
    function saveReportTemplate() {
      alert('Saving report template...\nTemplate saved successfully!');
    }
    
    function generateCustomReport() {
      alert('Generating custom report...\nThis will be available for download shortly.');
    }
    
    function updateReportOptions() {
      const reportType = document.getElementById('reportType').value;
      console.log('Updating options for report type:', reportType);
      // In real implementation, this would update available options
    }
    
    function refreshPreview() {
      alert('Refreshing report preview...\nPreview updated with current settings.');
    }
    
    function downloadPreview() {
      alert('Downloading preview...\nThis will be available shortly.');
    }
    
    function createNewTemplate() {
      alert('Opening template creator...\nDesign and save new report templates.');
    }
    
    function loadTemplate(templateId) {
      alert('Loading template: ' + templateId + '\nTemplate loaded successfully!');
    }
    
    function useTemplate(templateId) {
      alert('Using template: ' + templateId + '\nReport generated with template settings.');
    }
  </script>
</body>
</html> 